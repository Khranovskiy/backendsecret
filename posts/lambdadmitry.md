# lambdadmitry

_29 ноября 2015_

## Пятница <small>53 твита</small>

Привет, на связи опоздавший секретный программист, и сегодня мы поговорим о тщетности бытия и новом. Для начала опрос

Я пишу вечером на хаскеле, потому что

Надо сменить аватарку, конечно, стандартное яйцо слишком скучное

Окей, твиттор, тогда у меня есть к тебе следующий вопрос. Я не пишу на хаскеле, потому что

Прямо сейчас результаты голосования выглядят вот так и у меня есть, что сказать по этому поводу <a href="https://t.co/cKQBZ1UVXj">pic.twitter.com/cKQBZ1UVXj</a>

Самое главное и особенно для тех, кто ответил «а зачем» и «типы не нужны»: напоминаю, что половина читающих это умрёт в течение 40 лет.

За эти сорок лет нужно постараться успеть сделать людей лучше, второй попытки не будет. Под этим углом споры о языках выглядят ИНТЕРЕСНО

Как бы memento mori, споря о манатках против JS, епта.

Это простое рассуждение — отличный фреймворк для разговора о технологиях и не только. Потому что следующий шаг — понять про рычаг

Каждый рабочий фабрики Форда мог сделать сам примерно ничего. Многие из нас могут сделать свой убер, в принципе, но нужны ШИРОКИЕ СКИЛЛЫ

Вот эти вот компьютеры, монадки, реакты и кобол — просто усилители того, что мы можем сделать за час. Не религия и не знак отличия

С другой стороны, котаны, мы не можем знать того, о чём не знаем. Поэтому не написать на хацкеле хотя бы пару десятков строк — стыдно и фу

Но и, скажем, религиозно защищать макросы коммон лиспа (я смотрю на тебя, <a href="https://twitter.com/lvsn" title="Dmitry Ignatiev">@lvsn</a>) — не меньший отстой, конечно.

RT <a href="https://twitter.com/Xedin" title="Alexander P.">@Xedin</a>: <a href="https://twitter.com/backendsecret" title="Разработчик бэкенда">@backendsecret</a> мне нравится такой план!

Под этим высокопарным соусом не могу не порекомендовать пару хороших вещей:
Prolog Programming for Artificial Intelligence (Ivan Bratko)

Even a Geek Can Speak (Joey Asher) — стрёмное название, но хорошо, коротко и доступно написано. Выступать — важно!

RT <a href="https://twitter.com/iamale_ru" title="Эль">@iamale_ru</a>: <a href="https://twitter.com/backendsecret" title="Разработчик бэкенда">@backendsecret</a> Absolutely. <a href="https://t.co/khfXji0bOx">twitter.com/pasunderhood/s…</a>

<a href="https://t.co/HtRFi9Wbzz">coursera.org/course/optimiz…</a> научит решать прям большое число новых задач. Люблю такие штуки с большим «КПД знания»

RT <a href="https://twitter.com/ivan0yu" title="Ivαn Yurchenko">@ivan0yu</a>: <a href="https://twitter.com/backendsecret" title="Разработчик бэкенда">@backendsecret</a> мне однажды тестовое задание дали, задача про комбинаторную оптимизацию была. Курс Discrete Optimization помог …

Programming Erlang: Software for a Concurrent World (Joe Armstrong) — потому что необязательно писать на энлорже, чтобы им восхищаться :)

Лал <a href="https://t.co/tzklDOiZuD">twitter.com/corpz_/status/…</a>

History of Western Philosophy (Bertrand Russell) — потому что без знания альтернативных вариантов «научная картина мира» это просто вера :)

От общего — к частному. AWS Beanstalk, хероку и прочие пропагандируют абсолютно порочную модель разворачивания бекенда с фермами воркеров.

Потому что аккуратно написанный бекенд способен обрабатывать что-нибудь в духе 1-10к RPS без особого кеширования на одном сервере.

Это на пару порядков выше, чем у 99% онлайн-магазинов виагры, которые мы тут все пишем. Заодно это дешевле, проще и быстрее работает. Дискас

Небольшой пруф про «быстрее работает»: <a href="https://t.co/2pq4zKqfgJ">thethemefoundry.com/blog/why-we-do…</a> отказ от «быстрого» хранения ассетов на CDN ускорил всё в два раза

RT <a href="https://twitter.com/yelbota" title="Aleksey Fomkin">@yelbota</a>: <a href="https://twitter.com/backendsecret" title="Разработчик бэкенда">@backendsecret</a> Я пишу днем на PHP, потому что

. <a href="https://twitter.com/as_Crazy" title="Alexander">@as_Crazy</a> вот, скажем, мобильный банк от <a href="https://twitter.com/alfa_bank" title="Альфа-Банк">@alfa_bank</a> время от времени лежит по паре часов и ничего, живут. Отказоустойчивость оверрейтед

. <a href="https://twitter.com/as_Crazy" title="Alexander">@as_Crazy</a> потому что менеджеры точно так же подвержены хайпу. От каких именно фейлов страхует кластеризация? Смерть инстанса разве что

. <a href="https://twitter.com/as_Crazy" title="Alexander">@as_Crazy</a> AWS-инстансы мрут достаточно редко. Пусть даже раз в год; это пара-тройка часов даунтайма в год в худшем случае. Это ничего

. <a href="https://twitter.com/as_Crazy" title="Alexander">@as_Crazy</a> даунтайм от косяков девелоперов (в том числе из-за возрастающей сложности) явно чаще.

RT <a href="https://twitter.com/as_Crazy" title="Alexander">@as_Crazy</a>: <a href="https://twitter.com/backendsecret" title="Разработчик бэкенда">@backendsecret</a> <a href="https://twitter.com/alfa_bank" title="Альфа-Банк">@alfa_bank</a> не я придумал что магазинам виагры нужна отказоустойчивость, бизнес сам приходит и просит

Естественно, есть и другой сценарий развития событий:
— написать через коня
— в БД на один хит уходит сотня запросов
— НУЖЕН МЕМКЕШЕД ВАРНИШ

ПОСТГРЕС ТОРМОЗНОЙ НУЖЕН РИАК НОУСКЛ БИГДАТА ДАВАЙТЕ ВОЗЬМЁМ СПАРК

RT <a href="https://twitter.com/as_Crazy" title="Alexander">@as_Crazy</a>: <a href="https://twitter.com/backendsecret" title="Разработчик бэкенда">@backendsecret</a> ну да, давайте запретим писать программы всем у кого нет 10 лет опыт а

. <a href="https://twitter.com/as_Crazy" title="Alexander">@as_Crazy</a> я не понимаю, как можно сделать этот вывод

Простите, сценарий в предыдущем твиттере неполон.
— нанимаем студентов за еду
— приходит заказчик с ТЗ
— студенты пишут соответственно

— заказчик принимает, потому что работает же
— прошёл год
— всё тормозит
— заказчик недоволен
— у вас, батенька, ХАЙЛОАД

RT <a href="https://twitter.com/si_manana" title="Мат и Матики">@si_manana</a>: <a href="https://twitter.com/backendsecret" title="Разработчик бэкенда">@backendsecret</a> А ДАВАЙТЕ ПЕРЕПИШЕМ С НУЛЯ, НА НОВЫХ frameworkname

. <a href="https://twitter.com/si_manana" title="Мат и Матики">@si_manana</a> вот это, кстати, тоже интересный момент. Вроде бы и переписывать западло, а вроде и жить зачастую так дальше нельзя

. <a href="https://twitter.com/si_manana" title="Мат и Матики">@si_manana</a> так что Я ДОЧ СПОЛЬСКИ, ТУТ НЕ ВСЁ ТАК ОДНОЗНАЧНО

RT <a href="https://twitter.com/as_Crazy" title="Alexander">@as_Crazy</a>: <a href="https://twitter.com/backendsecret" title="Разработчик бэкенда">@backendsecret</a> это о том что обучить человека выжимать 1к rps, и что бы падало раз в год - задача сложная. А программировать …

. <a href="https://twitter.com/as_Crazy" title="Alexander">@as_Crazy</a> скорее, это бизнес-стратегия: пусть заказчик платит за время студентов, потому что кластер на амазоне ему продать проще

RT <a href="https://twitter.com/as_Crazy" title="Alexander">@as_Crazy</a>: <a href="https://twitter.com/backendsecret" title="Разработчик бэкенда">@backendsecret</a> а тем временем опытные разработчики на улицах бомжуют?

. <a href="https://twitter.com/as_Crazy" title="Alexander">@as_Crazy</a> снова не понял, что ты имеешь в виду

Гм, тут в чятике говорят, что я матерюсь. Мат ли «епта»?

RT <a href="https://twitter.com/xnetua" title="Brzęczyszczykiewicz">@xnetua</a>: <a href="https://twitter.com/backendsecret" title="Разработчик бэкенда">@backendsecret</a> 10k на среднестатистическом сервере? это backend на С/С++?

. <a href="https://twitter.com/xnetua" title="Brzęczyszczykiewicz">@xnetua</a> да почти на чём угодно. Рекомендую, например, <a href="https://t.co/lrLSa5SSSF">computers-are-fast.github.io</a>

. <a href="https://twitter.com/xnetua" title="Brzęczyszczykiewicz">@xnetua</a> что нужно, чтобы показать страницу среднего магазинчика? 1) распарсить HTTP-запрос 2) сделать SQL-запрос 3) собрать страницу

. <a href="https://twitter.com/xnetua" title="Brzęczyszczykiewicz">@xnetua</a> питон способен разобрать десятки тысяч запросов в секунду в одном процессе; шаблон это, фактически, конкатенация строк;

. <a href="https://twitter.com/xnetua" title="Brzęczyszczykiewicz">@xnetua</a> несложный SQL-запрос это ~миллисекунда. Воркеров и ядер много, примерно так получается 1k RPS. Язык ортогонален

RT <a href="https://twitter.com/strangeqargo" title="hey you, kekoosh">@strangeqargo</a>: <a href="https://twitter.com/xnetua" title="Brzęczyszczykiewicz">@xnetua</a> иногда, если внимательно посмотреть в код/бд, можно увидеть столько лишнего, тормозящего говна, что страшно стане<a href="https://twitter.com/backendsecret" title="Разработчик бэкенда">@backendsecret</a>

. <a href="https://twitter.com/strangeqargo" title="hey you, kekoosh">@strangeqargo</a> <a href="https://twitter.com/xnetua" title="Brzęczyszczykiewicz">@xnetua</a> да можно даже в код не смотреть, просто посмотреть на количество запросов в БД на одну страницу,лол. N+1 и всё такое

## Воскресенье <small>34 твита</small>

RT <a href="https://twitter.com/yelbota" title="Aleksey Fomkin">@yelbota</a>: <a href="https://twitter.com/backendsecret" title="Разработчик бэкенда">@backendsecret</a> студенты пишут на хаскеле. Ничего не тормозит, все легко рефакторить, заказчик доволен, заплатил подрядчику.

. <a href="https://twitter.com/yelbota" title="Aleksey Fomkin">@yelbota</a> скорее
— студенты пишут на хаскеле
— забыли зафорсить thunk
— в продакшне течёт память, всё падает, ад, черти, сатана

Если вы вдруг не используете <a href="https://t.co/k3qImGjpOG">mixpanel.com</a> для своего стартапчика, вы делаете это зря. Они очень крутые!

В отличие от всякого бесплатного вроде яметрики и гугланалитики,посоны просто хранят эвенты и позволяют их по-разному массировать постфактум

В частности, возможность построить воронки в ретроспективе рулит и педалит

Кстати, интересно. Вопрос: знаете ли вы, чем отличается AES-GCM от AES-CBC?

Да, точно, забыл сказать: опять же, в отличие от стандартной статистики, микспанель заточена под нас, то есть под погромистов

У них есть удобное апи, чтобы пушить туда эвенты с клиента и сервера, и хорошая панель, чтобы из них делать графики. Это всё, никакой магии

Ага, опрос показывает, что это будет актуально. Почему никогда не нужно писать буквы AES в своём коде: <a href="https://t.co/4jWr8L7wLo">nccgroup.trust/us/about-us/ne…</a>

Если всё-таки очень хочется: <a href="https://t.co/bFIRzjrGGU">coursera.org/course/crypto</a>

Там нет никакой магии, но понять, что происходит, таки нужно.

О, кто-то ответил «да»! Тогда поделюсь недавней радостью: CAESAR движется вперёд <a href="https://t.co/oOZSoSlLTj">competitions.cr.yp.to/caesar-submiss…</a> , скоро у нас будет хороший AEAD

Овервью кандидатов в первом раунде можно найти тут <a href="https://t.co/596S18NRM2">eprint.iacr.org/2014/792.pdf</a> правда, тут не отмечены прошедшие во второй

Что-то я мало вас развлекал на этой неделе, да. Простите :)

Продолжая тему «если не писать, то хотя бы поинтересоваться»: у ClojureScript на сегодня чуть ли не более адекватная экосистема, чем у JS.

Мы тут, конечно, backend-разработчики, но тем и ценен CLJS, что можно на нём писать, не сходя с ума от _интересных особенностей_ JS.

Ну и то, что «в комплекте» с CLJS идёт знание просто Clojure, добавляет няшности платформе. Рекомандасики!

RT <a href="https://twitter.com/ruxeg" title="ruX">@ruxeg</a>: <a href="https://twitter.com/backendsecret" title="Разработчик бэкенда">@backendsecret</a> а для дилетанта, из за немутабельности скорость сильно падает?

. <a href="https://twitter.com/ruxeg" title="ruX">@ruxeg</a> скажем так, обычно незаметно на фоне того, что умудряются нафигачить в библиотеках люди.

. <a href="https://twitter.com/ruxeg" title="ruX">@ruxeg</a> компьютеры и JS-движки вообще контринтуитивно быстрые сегодня. Ну и всегда можно использовать примитивы, если очень надо.

Насчёт тулчейна: вот примерно такая магия работает прям очень легко (с Boot) <a href="https://t.co/hpfmgOqWaT">instagram.com/p/tce_F3FVe6/</a>

RT <a href="https://twitter.com/ivan0yu" title="Ivαn Yurchenko">@ivan0yu</a>: <a href="https://twitter.com/backendsecret" title="Разработчик бэкенда">@backendsecret</a> на <a href="https://t.co/oPPJqPqgbu">coursera.org/course/crypto</a> объясняли :)

RT <a href="https://twitter.com/clojure_ru" title="clojure-russia">@clojure_ru</a>: <a href="https://twitter.com/backendsecret" title="Разработчик бэкенда">@backendsecret</a> а еще у нас есть скобочки, интероп в джаву и джаваскрипт, датомик и ом.некст.

RT <a href="https://twitter.com/ruxeg" title="ruX">@ruxeg</a>: <a href="https://twitter.com/backendsecret" title="Разработчик бэкенда">@backendsecret</a> хочу также для андроида! Слышал что вроде jrebel для него вышел

. <a href="https://twitter.com/ruxeg" title="ruX">@ruxeg</a> да, есть ещё ReactNative и CLJS-обёртка для него, но я не пробовал :) <a href="https://t.co/ZSaoR61E31">youtube.com/watch?v=KVZ-P-…</a>

RT <a href="https://twitter.com/ruxeg" title="ruX">@ruxeg</a>: <a href="https://twitter.com/backendsecret" title="Разработчик бэкенда">@backendsecret</a> здесь кстати язык вообще ни при чём. Это те фишки которыми разработчики хотят продать язык подсовывая классные шт…

. <a href="https://twitter.com/ruxeg" title="ruX">@ruxeg</a> я поэтому и сказал про экосистему :)

RT <a href="https://twitter.com/ruxeg" title="ruX">@ruxeg</a>: <a href="https://twitter.com/ilnurkhalilov" title="Ilnur Khalilov">@ilnurkhalilov</a> <a href="https://twitter.com/backendsecret" title="Разработчик бэкенда">@backendsecret</a> см выше xamarin c# и вообще кросс-компиляторы давно есть, те же самые robovm. c# &amp; java сильно бли…

RT <a href="https://twitter.com/ilnurkhalilov" title="Ilnur Khalilov">@ilnurkhalilov</a>: <a href="https://twitter.com/ruxeg" title="ruX">@ruxeg</a> <a href="https://twitter.com/backendsecret" title="Разработчик бэкенда">@backendsecret</a>, на них не напишешь веб-клиент. Реакт Нейтив старается быть ближе и к системе, и к разработчикам.

Видимо, моё время подходит к концу :) Напоследок оставлю вам несколько хороших talk'ов:
<a href="https://t.co/YX1GmuRRFl">infoq.com/presentations/…</a> Рич, конечно, лучший

Ещё два talk'а от него:
<a href="https://t.co/k9EdRIikOe">youtube.com/watch?v=f84n5o…</a> про то, как вообще программировать
<a href="https://t.co/8eIhgdF3J0">infoq.com/presentations/…</a> что такое вообще переменные?

<a href="https://t.co/u0AscPFzdy">youtube.com/watch?v=1bNOO3…</a> об очередях, backpressure и всём таком
<a href="https://t.co/ZtBm5HGfS1">youtube.com/watch?v=449j7o…</a> не суйте нам ваши монады куда попало!

Можно обратить внимание, что Clojure-девелоперы очень много говорят не о Clojure, в отличие от Haskell-девелоперов ;)

RT <a href="https://twitter.com/notxcain" title="Denis Mikhaylov">@notxcain</a>: <a href="https://twitter.com/backendsecret" title="Разработчик бэкенда">@backendsecret</a> один из крутейших докладов

Спасибо за внимание! Зафолловить можно тут: <a href="https://twitter.com/lambdadmitry" title="Внутренняя Феечка">@lambdadmitry</a> :)